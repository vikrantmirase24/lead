import{k as S,r as n,y as w,j as e,B as a,T as o,A as d,h as v,p as u,H as P,C as F}from"./index-BtB7UOt2.js";import{z as g,u as I,t as k,L as N}from"./zod-DAAV14pM.js";import{P as E}from"./new-password-icon-47M9Hf28.js";import{F as R,a as B}from"./form-provider-CuVxRMWy.js";import"./image-BYwoUYoH.js";import"./CircularProgress-Dtxp3OJV.js";import"./TextField-DxmO3TN0.js";import"./Select-BfbTOkoI.js";import"./isMuiElement-B37rc9mm.js";import"./formControlState-Dq1zat_P.js";import"./DatePicker-D1byhs5K.js";import"./InputAdornment-BvyjvqD-.js";import"./Dialog-DBgaWhmn.js";import"./RadioGroup-DtZ99t_7.js";import"./FormControlLabel-BSJAInse.js";import"./KeyboardArrowRight-CNgXDUW1.js";const M=s=>{const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,i=/^[0-9]{10}$/;return t.test(s)||i.test(s)},A=g.object({userName:g.string().min(1,{message:"Email is required!"}).refine(M,{message:"Username must be a valid email address or a 10-digit mobile number!"})});function C(){const s=S(),[t,i]=n.useState(""),[m,p]=n.useState(""),h={userName:""},[x,b]=n.useState(!1),l=I({resolver:k(A),defaultValues:h}),{handleSubmit:y,formState:{isSubmitting:j}}=l,f=y(async c=>{console.log("ddd:",c);try{await w({userName:c.userName}),b(!0),p("Link send Succesfully")}catch(r){console.error("ttt:",r),i(typeof r=="string"?r:r.message)}});return e.jsxs(a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"70vh",padding:5,children:[e.jsxs(a,{textAlign:"center",mb:4,children:[e.jsx(E,{style:{fontSize:40,marginBottom:16}}),e.jsx(o,{variant:"h4",gutterBottom:!0,children:"Forgot your password?"}),e.jsx(o,{variant:"body2",children:"A password reset link has been sent to your registered email and mobile number. Please check your inbox or SMS to proceed with resetting your password."})]}),x?e.jsxs(a,{textAlign:"center",children:[e.jsx(o,{variant:"h6",gutterBottom:!0,children:"Reset email sent!"}),e.jsx(o,{variant:"body2",mb:2,children:"Please check your inbox for a link to reset your password."}),e.jsx(v,{href:u.auth.signIn,underline:"none",onClick:()=>s.push(u.auth.signIn),variant:"body2",color:"primary",children:"Return to Sign In"})]}):e.jsxs(R,{methods:l,onSubmit:f,children:[!!t&&e.jsx(d,{severity:"error",sx:{mb:3},children:t}),!!m&&e.jsx(d,{severity:"success",sx:{mb:3},children:m}),e.jsx(B.Text,{sx:{mb:2},name:"userName",label:"User Name",placeholder:"example@gmail.com",InputProps:{sx:{width:"100%"}}}),e.jsx(N,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:j,loadingIndicator:"Sending...",children:"Send request"})]})]})}const L={title:`Forgot Password | ${F.appName}`};function Z(){return e.jsxs(e.Fragment,{children:[e.jsx(P,{children:e.jsxs("title",{children:[" ",L.title]})}),e.jsx(C,{})]})}export{Z as default};
