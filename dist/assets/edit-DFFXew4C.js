import{aZ as C,u as v,r as t,j as e,T as l,D as S,p as c,A as u,aC as m,c as h,R as E,a as x,e as y,H as D,C as T}from"./index-BtB7UOt2.js";import{C as w}from"./custom-breadcrumbs-DhW774YS.js";import{C as F}from"./Card-DnppY8CG.js";import{T as N}from"./TextField-DxmO3TN0.js";import"./Select-BfbTOkoI.js";import"./isMuiElement-B37rc9mm.js";import"./formControlState-Dq1zat_P.js";function B(){const{id:o}=C(),f=v(),[n,d]=t.useState(""),[s,i]=t.useState(""),[p,j]=t.useState(""),[g,b]=t.useState(!0);t.useEffect(()=>{(async()=>{try{const r=await x.get(y.user.getProperty(o),{});d(r.data.data.name||"")}catch(r){console.error("Error fetching property:",r),i("Failed to load property")}finally{b(!1)}})()},[o]);const P=async a=>{if(a.preventDefault(),!n.trim()){i("Property name is required");return}try{await x.patch(y.user.editProperty(o),{name:n}),j("Property updated successfully!"),setTimeout(()=>{f(c.dashboard.propertylist)},1500)}catch(r){console.error("Update error:",r),i("Failed to update property")}};return g?e.jsx(l,{children:"Loading..."}):e.jsxs(S,{children:[e.jsx(w,{heading:"Edit Property",links:[{name:"Dashboard",href:c.dashboard.root},{name:"Property"},{name:"Edit"}],sx:{mb:{xs:3,md:3}}}),!!p&&e.jsx(u,{severity:"success",sx:{mb:2},children:p}),!!s&&e.jsx(u,{severity:"error",sx:{mb:2},children:s}),e.jsx(F,{sx:{p:4},children:e.jsx("form",{onSubmit:P,children:e.jsxs(m,{spacing:3,children:[e.jsx(l,{variant:"h6",children:"Property Details"}),e.jsx(N,{label:"Property Name",value:n,onChange:a=>d(a.target.value),error:!!s,helperText:s,fullWidth:!0,required:!0}),e.jsxs(m,{direction:"row",spacing:2,justifyContent:"flex-end",children:[e.jsx(h,{component:E,href:c.dashboard.propertylist,variant:"outlined",children:"Cancel"}),e.jsx(h,{type:"submit",variant:"contained",children:"Save Changes"})]})]})})})]})}const I={title:`User View | Dashboard - ${T.appName}`};function U(){return e.jsxs(e.Fragment,{children:[e.jsx(D,{children:e.jsxs("title",{children:[" ",I.title]})}),e.jsx(B,{})]})}export{U as default};
