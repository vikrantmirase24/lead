import{u as b,r as t,j as e,D as v,p as i,A as h,aC as x,c as p,a as C,e as E,H as S,C as y}from"./index-BtB7UOt2.js";import{C as U}from"./custom-breadcrumbs-DhW774YS.js";import{C as T}from"./Card-DnppY8CG.js";import{T as w}from"./TextField-DxmO3TN0.js";import"./Select-BfbTOkoI.js";import"./isMuiElement-B37rc9mm.js";import"./formControlState-Dq1zat_P.js";function A(){const f=b(),[o,j]=t.useState(""),[d,l]=t.useState(!1),[c,a]=t.useState(""),[u,r]=t.useState(""),g=async n=>{var m;n.preventDefault();try{l(!0);const s=await C.post(E.user.addenduse,{title:o});console.log("Response:",s.data),r("End Use added successfully!"),setTimeout(()=>r(""),3e3),a("")}catch(s){console.error("Error:",((m=s.response)==null?void 0:m.data)||s.message),a("Failed to add End Use."),setTimeout(()=>a(""),3e3),r("")}finally{l(!1)}};return e.jsxs(v,{children:[e.jsx(U,{heading:"Add End Use",links:[{name:"Dashboard",href:i.dashboard.root},{name:"End Use",href:i.dashboard.enduselistview},{name:"Add"}]}),!!u&&e.jsx(h,{severity:"success",sx:{mb:3},children:u}),!!c&&e.jsx(h,{severity:"error",sx:{mb:2},children:c}),e.jsx(T,{sx:{p:3,mt:3},children:e.jsx("form",{onSubmit:g,children:e.jsxs(x,{spacing:3,children:[e.jsx(w,{label:"End Use Title",value:o,onChange:n=>j(n.target.value),required:!0,fullWidth:!0}),e.jsxs(x,{direction:"row",justifyContent:"flex-end",spacing:2,children:[e.jsx(p,{variant:"outlined",color:"inherit",onClick:()=>f(i.dashboard.enduselist),children:"Cancel"}),e.jsx(p,{type:"submit",variant:"contained",disabled:d,children:d?"Saving...":"Save"})]})]})})})]})}const D={title:`User View | Dashboard - ${y.appName}`};function R(){return e.jsxs(e.Fragment,{children:[e.jsx(S,{children:e.jsxs("title",{children:[" ",D.title]})}),e.jsx(A,{})]})}export{R as default};
