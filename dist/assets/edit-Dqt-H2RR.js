import{aZ as C,u as N,r as e,j as s,D as v,p as c,A as h,aC as x,T as E,c as p,R as S,a as f,e as g,H as T,C as D}from"./index-BtB7UOt2.js";import{C as w}from"./custom-breadcrumbs-DhW774YS.js";import{C as F}from"./Card-DnppY8CG.js";import{T as I}from"./TextField-DxmO3TN0.js";import"./Select-BfbTOkoI.js";import"./isMuiElement-B37rc9mm.js";import"./formControlState-Dq1zat_P.js";function M(){const{id:i}=C(),b=N(),[o,d]=e.useState(""),[t,u]=e.useState(""),[r,l]=e.useState(""),[L,j]=e.useState(""),[m,B]=e.useState(!0);e.useEffect(()=>{(async()=>{try{const a=await f.get(g.user.getNatureBusines(i),{});d(a.data.data.name||"")}catch(a){console.error("Error fetching business:",a),u("Failed to fetch business data")}finally{B(!1)}})()},[i]);const y=async n=>{if(n.preventDefault(),!o.trim()){u("Business name is required");return}try{await f.patch(g.user.editNatureBusiness(i),{name:o}),l("Business updated successfully!"),setTimeout(()=>b(c.dashboard.natureBusinesslist),1500)}catch(a){console.error("Error updating business:",a),u("Failed to update business"),setTimeout(()=>j(""),1500),l("")}};return s.jsxs(v,{children:[s.jsx(w,{heading:"Edit Nature Business",links:[{name:"Dashboard",href:c.dashboard.root},{name:"Nature Business"},{name:"Edit"}],sx:{mb:{xs:3,md:3}}}),!!r&&s.jsx(h,{severity:"success",sx:{mb:3},children:r}),!!t&&s.jsx(h,{severity:"error",sx:{mb:3},children:t}),s.jsx(F,{sx:{p:4},children:s.jsx("form",{onSubmit:y,children:s.jsxs(x,{spacing:3,children:[s.jsx(E,{variant:"h6",children:"Nature Business Details"}),s.jsx(I,{label:"Business Name",value:o,onChange:n=>d(n.target.value),error:!!t&&!r,helperText:t&&!r?t:"",fullWidth:!0,required:!0}),s.jsxs(x,{direction:"row",spacing:2,justifyContent:"flex-end",children:[s.jsx(p,{component:S,href:c.dashboard.natureBusinesslist,variant:"outlined",children:"Cancel"}),s.jsx(p,{type:"submit",variant:"contained",disabled:m,children:m?"Loading...":"Save Changes"})]})]})})})]})}const k={title:`User View | Dashboard - ${D.appName}`};function O(){return s.jsxs(s.Fragment,{children:[s.jsx(T,{children:s.jsxs("title",{children:[" ",k.title]})}),s.jsx(M,{})]})}export{O as default};
