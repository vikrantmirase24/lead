import{aZ as j,r as c,j as s,D as b,p as x,aC as l,T as a,B as v,c as D,a as C,e as L,H as P,C as N}from"./index-BtB7UOt2.js";import{C as k}from"./custom-breadcrumbs-DhW774YS.js";import{C as q}from"./CircularProgress-Dtxp3OJV.js";import{C as o}from"./Card-DnppY8CG.js";import{G as n}from"./Grid-BCj60A8z.js";function B(){var m,p,_,h;const{id:d}=j(),[r,f]=c.useState(null),[y,u]=c.useState(!1);c.useEffect(()=>{if(!d)return;(async()=>{try{u(!0);const i=await C.get(L.user.leadgetbyid(d));console.log("Lead Detail:",i.data.data),f(i.data.data)}catch(i){console.error("Error fetching lead details:",i)}finally{u(!1)}})()},[d]);const e=(t,i)=>s.jsxs(n,{item:!0,xs:12,md:6,children:[s.jsx(a,{variant:"subtitle2",color:"text.secondary",children:t}),s.jsx(a,{variant:"body1",children:i||"NA"})]});return s.jsxs(b,{children:[s.jsx(k,{heading:"Lead Details",links:[{name:"Dashboard",href:x.dashboard.root},{name:"Leads",href:x.dashboard.activeLeads},{name:"View"}],sx:{mb:{xs:3,md:3}}}),y?s.jsx(l,{alignItems:"center",justifyContent:"center",sx:{py:5},children:s.jsx(q,{})}):r?s.jsxs(l,{spacing:3,children:[s.jsxs(o,{sx:{p:3},children:[s.jsx(a,{variant:"h6",gutterBottom:!0,children:"Basic Information"}),s.jsxs(n,{container:!0,spacing:2,children:[e("Lead ID",r.id),e("Name",r.name),e("Mobile Number",r.mobile_number),e("LAN Number",r.lan_number),e("Occupation",r.occupation_display),e("Employer Name",r.employer_name),e("Years in Service",r.number_of_years_service),e("Official Contact",r.official_contact_number),e("Nature of Service",r.nature_of_service),e("Monthly Income",r.monthly_income),e("Business Name",r.business_name),e("Business Place",r.business_place),e("Business Contact",r.business_contact_number),e("Nature of Business",r.nature_of_business),e("KYC Document",r.kyc_document),e("KYC Number",r.kyc_number),e("KYC Collected",r.kyc_collected?"Yes":"No"),e("Interested",r.interested?"Yes":"No"),e("Status",r.is_status_display),e("Steps",r.is_steps_display)]})]}),((m=r.enquiry_addresses)==null?void 0:m.length)>0&&s.jsxs(o,{sx:{p:3},children:[s.jsx(a,{variant:"h6",gutterBottom:!0,children:"Addresses"}),r.enquiry_addresses.map(t=>s.jsxs(n,{container:!0,spacing:2,sx:{mb:2},children:[e("Premises Type",t.premises_type),e("Premises Status",t.premises_status),e("Address",t.address),e("Pincode",t.pincode),e("State",t.state),e("District",t.district),e("Area",t.area),e("Latitude",t.latitude),e("Longitude",t.longitude),e("Different Address",t.use_different_address?"Yes":"No"),e("Diff. Premises Type",t.different_premises_type),e("Diff. Premises Status",t.different_premises_status),e("Diff. Address",t.different_address),e("Diff. Pincode",t.different_pincode)]},t.id))]}),((p=r.enquiry_loan_details)==null?void 0:p.length)>0&&s.jsxs(o,{sx:{p:3},children:[s.jsx(a,{variant:"h6",gutterBottom:!0,children:"Loan Details"}),r.enquiry_loan_details.map(t=>s.jsxs(n,{container:!0,spacing:2,sx:{mb:2},children:[e("Loan Type",t.loan_type_display),e("Loan Amount Range",t.loan_amount_range_display),e("Property Type",t.property_type_display),e("Property Document Type",t.property_document_type_display),e("Sale Deed No",t.sale_deed_number),e("Agreement Sell No",t.agreement_sell_number),e("Property Document No",t.property_document_number),e("Akhive Patrika",t.akhive_patrika),e("Property Value",t.property_value),e("Vehicle Registration No",t.vehicle_registration_number),e("Income Document",t.income_document),e("Follow-up Pickup Date",t.followup_pickup_date),e("Remark",t.remark)]},t.id))]}),r.enquiry_verification&&s.jsxs(o,{sx:{p:3},children:[s.jsx(a,{variant:"h6",gutterBottom:!0,children:"Verification"}),s.jsxs(n,{container:!0,spacing:2,children:[e("Mobile",r.enquiry_verification.mobile),e("Mobile Status",r.enquiry_verification.mobile_status_display),e("Email",r.enquiry_verification.email),e("Email Verified",r.enquiry_verification.email_status_display),e("Aadhaar",r.enquiry_verification.aadhaar),e("Aadhaar Verified",r.enquiry_verification.aadhaar_verified?"Yes":"No")]})]}),((_=r.enquiry_images)==null?void 0:_.length)>0&&s.jsxs(o,{sx:{p:3},children:[s.jsx(a,{variant:"h6",gutterBottom:!0,children:"Uploaded Files"}),s.jsx(n,{container:!0,spacing:2,children:r.enquiry_images.map(t=>{const i=`https://lead.berarfinance.com/leadapi${t.media_file}`,g=i.toLowerCase().endsWith(".pdf");return s.jsx(n,{item:!0,xs:12,md:4,children:s.jsxs(l,{spacing:1,alignItems:"center",children:[g?s.jsxs(s.Fragment,{children:[s.jsx(v,{sx:{width:"100%",height:200,border:"1px solid #ddd",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#fafafa"},children:s.jsx("img",{src:"\\assets\\illustrations\\pdf.jpg",alt:"PDF Logo",style:{width:80,height:80}})}),s.jsx(D,{variant:"outlined",href:i,target:"_blank",rel:"noopener noreferrer",children:"View PDF"})]}):s.jsx("img",{src:i,alt:"Lead Doc",style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:8,border:"1px solid #ddd"}}),s.jsxs(a,{variant:"body2",color:"text.secondary",children:[t.capture_date," ",t.capture_time]})]})},t.id)})})]}),((h=r.enquiry_selfies)==null?void 0:h.length)>0&&s.jsxs(o,{sx:{p:3},children:[s.jsx(a,{variant:"h6",gutterBottom:!0,children:"Selfies"}),r.enquiry_selfies.map(t=>{const i=`https://lead.berarfinance.com/leadapi${t.selfie}`;return s.jsxs(n,{container:!0,spacing:2,sx:{mb:3},children:[s.jsx(n,{item:!0,xs:12,md:4,children:s.jsx("img",{src:i,alt:"Lead Selfie",style:{width:"100%",borderRadius:8,border:"1px solid #ddd",objectFit:"cover"}})}),s.jsxs(n,{item:!0,xs:12,md:8,container:!0,spacing:2,children:[e("Premises Type",t.premises_type),e("Latitude",t.latitude),e("Longitude",t.longitude),e("IP Address",t.ip_address),e("Capture Date",t.capture_date),e("Capture Time",t.capture_time)]})]},t.id)})]})]}):s.jsx(o,{sx:{p:3,textAlign:"center"},children:s.jsx(a,{variant:"h6",children:"No data found"})})]})}const S={title:`User View | Dashboard - ${N.appName}`};function V(){return s.jsxs(s.Fragment,{children:[s.jsx(P,{children:s.jsxs("title",{children:[" ",S.title]})}),s.jsx(B,{})]})}export{V as default};
