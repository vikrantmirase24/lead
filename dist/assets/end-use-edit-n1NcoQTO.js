import{aZ as S,u as D,r as a,j as e,D as w,p as u,A as b,aC as g,c as E,q as F,a as y,e as C,H as T,C as I}from"./index-BtB7UOt2.js";import{C as k}from"./custom-breadcrumbs-DhW774YS.js";import{C as N}from"./Card-DnppY8CG.js";import{T as q}from"./TextField-DxmO3TN0.js";import"./Select-BfbTOkoI.js";import"./isMuiElement-B37rc9mm.js";import"./formControlState-Dq1zat_P.js";function A(){const{id:n}=S(),v=D(),[h,m]=a.useState(""),[f,r]=a.useState(!1),[p,s]=a.useState(""),[x,c]=a.useState("");a.useEffect(()=>{n&&(async()=>{var t,d,j;try{r(!0);const o=await y.get(C.user.endusebyid(n)),l=((t=o.data)==null?void 0:t.data)||o.data;m((l==null?void 0:l.title)||"")}catch(o){s(((j=(d=o.response)==null?void 0:d.data)==null?void 0:j.message)||"Failed to fetch End Use")}finally{r(!1)}})()},[n]);const U=async i=>{var t;i.preventDefault(),s(""),c("");try{r(!0),(t=(await y.patch(C.user.endusebyid(n),{title:h})).data)!=null&&t.success?(c("End Use updated successfully!"),setTimeout(()=>c(""),3e3)):(s("End Use updated Failed!"),setTimeout(()=>s(""),3e3))}catch{s("End Use updated Failed!")}finally{r(!1)}};return e.jsxs(w,{children:[e.jsx(k,{heading:"Edit End Use",links:[{name:"Dashboard",href:u.dashboard.root},{name:"End Use",href:u.dashboard.enduselistview},{name:"Edit"}]}),!!x&&e.jsx(b,{severity:"success",sx:{mb:1},children:x}),!!p&&e.jsx(b,{severity:"error",sx:{mb:2},children:p}),e.jsx(N,{sx:{p:3,mt:2},children:e.jsx("form",{onSubmit:U,children:e.jsxs(g,{spacing:3,children:[e.jsx(q,{label:"End Use Title",value:h,onChange:i=>m(i.target.value),required:!0,fullWidth:!0}),e.jsxs(g,{direction:"row",justifyContent:"flex-end",spacing:2,children:[e.jsx(E,{variant:"outlined",color:"inherit",onClick:()=>v(u.dashboard.enduselist),children:"Cancel"}),e.jsx(E,{type:"submit",variant:"contained",disabled:f,startIcon:e.jsx(F,{icon:"solar:pen-bold"}),children:f?"Saving...":"Update"})]})]})})})]})}const B={title:`User View | Dashboard - ${I.appName}`};function R(){return e.jsxs(e.Fragment,{children:[e.jsx(T,{children:e.jsxs("title",{children:[" ",B.title]})}),e.jsx(A,{})]})}export{R as default};
